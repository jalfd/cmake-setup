add_executable(@TARGET_FULL_NAME@-test)

target_link_libraries(@TARGET_FULL_NAME@-test PRIVATE @TARGET_FULL_NAME@ Catch2::Catch2WithMain)

add_test(NAME @TARGET_FULL_NAME@-test COMMAND @TARGET_FULL_NAME@-test)

target_sources(
  @TARGET_FULL_NAME@
  PRIVATE
  # source files go here
  src/lib.cc
  PUBLIC
    FILE_SET HEADERS
      FILES
      # headers go here
    FILE_SET generated_headers
      TYPE HEADERS
      BASE_DIRS $<TARGET_PROPERTY:BINARY_DIR>
      FILES
      # headers go here
)
